<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript" src="https://me.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js?attr=aJ-DpsJUCP35--FM3o2JhhcQMWAFa5LC2w1su40ljqP7X3koKf-iubdiBxtNcc8xqafhm5ia55Mhm50LneUft3daL6bdKcJRG6-mVO2Mm3iPKfkkxN7ZMDW9OhCRguoCcoYH1hwohp1r2SJJjX_iJQ" charset="UTF-8"></script><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css"  href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.7/dist/semantic.css">
    <script  src="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.7/dist/semantic.js">  </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-xmlrpc/0.4.3/jquery.xmlrpc.js"> </script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

    <link href="https://vjs.zencdn.net/7.8.4/video-js.css" rel="stylesheet" />
    <script src="http://vjs.zencdn.net/7.8.4/video.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/videojs-youtube/2.6.1/Youtube.min.js"></script>

    <script>

      // Update logs table
      function updateLogstable(){
        $.ajax({
          url: "/API/logs/",
          type: "GET",
          dataType: "json",
          success: function (data) {
            console.log(data);
            $('#logsTable > tbody:last-child').empty()
            data["logs"].forEach(v => {
              console.log(v["log_id"]+" "+v["ip"]+" "+v["endpoint"]+" "+v["method"]+" "+v["timestamp"]+" "+v["description"])
              $('#logsTable > tbody:last-child').append('<tr> <td>'+ v["ip"]+'</td><td>'+v["endpoint"]+'</td><td>'+v["method"]+'</td><td>'+v["timestamp"]+'</td><td>'+v["description"]+'</td></tr>');
            });
          }
        });
      }

      $(document).ready(function(){
        //update table
        updateLogstable()
      });
    </script>
  </head> 

  <body>
    <!--Logs table-->
    <h3>List of logs</h3>
    <table class="ui celled table selectable" id="logsTable" >
      <thead>
        <tr>
          <th>IP</th><th>Endpoint</th><th>Method</th><th>Timestamp</th><th>Description</th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>
  </body>

</html>